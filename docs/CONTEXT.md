# í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸ (AI & ê°œë°œììš©)

> **ì´ ë¬¸ì„œëŠ”:** í˜„ì¬ ì§„í–‰ ìƒí™©, ê°œë°œ ë°©ë²•ë¡ , ë‹¤ìŒ ì‘ì—…ì„ ë‹´ì€ ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œì…ë‹ˆë‹¤.  
> **ëŒ€ìƒ:** ì‚¬ëŒ ê°œë°œì + AI ë„êµ¬ (Cursor, Copilot ë“±)

---

## ğŸ“‹ ì „ì²´ í”„ë¡œì íŠ¸ ê°œìš”
**HR ë„ë©”ì¸ AI Agent (16ì‹œê°„ í¬íŠ¸í´ë¦¬ì˜¤)**
- SQL Agent: ìì—°ì–´ â†’ SQL ìƒì„± â†’ ì‹¤í–‰ â†’ Self-Correction
- RAG Agent: ì‚¬ê·œ PDF ê²€ìƒ‰
- Router: ì§ˆë¬¸ ì˜ë„ ë¶„ë¥˜ í›„ Agent ì„ íƒ
- FastAPI: REST API ì œê³µ

---

## âœ… ì™„ë£Œëœ ì‘ì—…

### Phase 1: í™˜ê²½ ì„¸íŒ… (0-2h) âœ… 100% ì™„ë£Œ
- [x] Docker MySQL ì‹¤í–‰
- [x] Python í™˜ê²½ (3.13)
- [x] requirements.txt
- [x] í”„ë¡œì íŠ¸ êµ¬ì¡°
- [x] DB ì—°ê²° í…ŒìŠ¤íŠ¸
- [x] `core/db_connection.py` ì™„ì„±

### Phase 2: SQL Agent (2-6h) âœ… 100% ì™„ë£Œ
**ì‹¤í—˜ íŒŒì¼:**
- [x] `experiments/exp_01_sql_generation.py` - ê¸°ë³¸ SQL ìƒì„±
- [x] `experiments/exp_02_self_correction.py` - ìˆ˜ë™ ë£¨í”„ Self-Correction
- [x] `experiments/exp_03_langgraph_sql.py` - LangGraph StateGraph êµ¬í˜„ (9ê°œ ì…€)
- [x] `experiments/exp_04_sql_agent_test.py` - ë¦¬íŒ©í† ë§ í›„ í…ŒìŠ¤íŠ¸ (7ê°œ ì…€)

**í”„ë¡œë•ì…˜ ì½”ë“œ:**
- [x] `core/sql_agent.py` - SQLAgent í´ë˜ìŠ¤ ì™„ì„±
  - `query()` ë©”ì„œë“œë¡œ ê°„ë‹¨ ì‚¬ìš©
  - Self-Correction (ìµœëŒ€ 3íšŒ)
  - LangGraph ê¸°ë°˜ ì„ ì–¸ì  í”Œë¡œìš°
  - í…ŒìŠ¤íŠ¸ ì™„ë£Œ (ì‹¤í–‰ ê°€ëŠ¥)

**ì£¼ìš” ì„±ê³¼:**
- âœ… ìì—°ì–´ â†’ SQL ë³€í™˜
- âœ… Self-Correction ì‘ë™ í™•ì¸
- âœ… ë³µì¡í•œ JOIN/GROUP BY ìë™ ìƒì„±
- âœ… LangChain 0.3.x LCEL ìŠ¤íƒ€ì¼ ì ìš©

---

## ğŸš§ ì§„í–‰ ì¤‘ / ë¯¸ì°©ìˆ˜

### Phase 3: RAG Agent (6-9h) â­ï¸ ë¯¸ì°©ìˆ˜
- [ ] data/company_rules.txt ìƒ˜í”Œ ì‘ì„±
- [ ] PDF ë¡œë“œ + ì²­í‚¹
- [ ] OpenAI Embeddings
- [ ] FAISS ì¸ë±ìŠ¤ ìƒì„±
- [ ] ê²€ìƒ‰ + ë‹µë³€ ìƒì„±
- [ ] core/rag_agent.py ì™„ì„±

### Phase 4: Router + í†µí•© (9-11h) â­ï¸ ë¯¸ì°©ìˆ˜
- [ ] core/router.py (LLM ì˜ë„ ë¶„ë¥˜)
- [ ] core/graph.py (ë©”ì¸ LangGraph)
- [ ] SQL/RAG Agent í†µí•©

### Phase 5: FastAPI (11-14h) â­ï¸ ë¯¸ì°©ìˆ˜
- [ ] app/main.py
- [ ] POST /query ì—”ë“œí¬ì¸íŠ¸
- [ ] GET /health
- [ ] CORS ì„¤ì •
- [ ] í†µí•© í…ŒìŠ¤íŠ¸

### Phase 6: ë§ˆë¬´ë¦¬ (14-16h) â­ï¸ ë¯¸ì°©ìˆ˜
- [ ] ìˆ˜ë™ í…ŒìŠ¤íŠ¸ (10ê°œ ì‹œë‚˜ë¦¬ì˜¤)
- [ ] ì‹œì—° ì˜ìƒ ì´¬ì˜ (GIF)
- [ ] README ì™„ì„±
- [ ] (ì„ íƒ) ë°°í¬

---

## ğŸ¯ ê°œë°œ ë°©ë²•ë¡  (ì¤‘ìš”!)

### 1. ì…€ ë‹¨ìœ„ ê°œë°œ (# %%)
```python
# %%
# ì…€ N: ê°„ë‹¨í•œ ì„¤ëª…
ì½”ë“œ...

# %%
```
- Jupyter ìŠ¤íƒ€ì¼ ì…€ êµ¬ë¶„ì ì‚¬ìš©
- ì‚¬ìš©ìê°€ í•˜ë‚˜ì”© ì‹¤í–‰í•˜ë©° í•™ìŠµ

### 2. ì…€ ìƒì„± ê·œì¹™ (ì—„ìˆ˜!)
- **í•œ ë²ˆì— ì…€ 1ê°œì”©ë§Œ ìƒì„±**
- ëª…ë ¹ ë°›ê¸° ì „ì— ì ˆëŒ€ ì—¬ëŸ¬ ì…€ ë§Œë“¤ì§€ ë§ ê²ƒ
- ì…€ë‹¹ **í‰ê·  20ì¤„, ìµœëŒ€ 30ì¤„**
- 30ì¤„ ë„˜ì„ ê²ƒ ê°™ìœ¼ë©´ **ì‚¬ì „ ë³´ê³  ë° í—ˆë½**

### 3. ì…€ êµ¬ì„±
```python
# %%
# ì…€ N: ê¸°ëŠ¥ ì„¤ëª…
def some_function():
    """ì •ì˜"""
    pass

print("âœ… í•¨ìˆ˜ ì •ì˜ ì™„ë£Œ")

# í…ŒìŠ¤íŠ¸
result = some_function()
print(f"ê²°ê³¼: {result}")

# %%
```
- **ì •ì˜ + í…ŒìŠ¤íŠ¸** í•¨ê»˜ í¬í•¨
- ë°”ë¡œ ì‹¤í–‰í•´ì„œ í™•ì¸ ê°€ëŠ¥í•˜ê²Œ

### 4. ì…€ ì„¤ëª… í•„ìˆ˜
ê° ì…€ ìƒì„± í›„:
```
ì…€ N: ì œëª©

ì™œ ë§Œë“¤ì—ˆë‚˜?
- ì´ìœ 

ë­í•˜ëŠ” ì…€?
- ê¸°ëŠ¥ ì„¤ëª…

í•µì‹¬:
- í•œ ì¤„ ìš”ì•½
```

### 5. ì§„í–‰ë¥  í‘œì‹œ
```
ì§„í–‰ë¥ : N/ì´ê°œìˆ˜ = X%
```
- ì…€ 5ë¶€í„° í‘œì‹œ
- ì‚¬ìš©ìê°€ ì§„í–‰ ìƒí™© íŒŒì•…

### 6. ì‹¤í—˜ â†’ í”„ë¡œë•ì…˜ ë¶„ë¦¬
```
experiments/exp_XX.py  â†’ í•™ìŠµìš©, ì…€ ë‹¨ìœ„, í…ŒìŠ¤íŠ¸ í¬í•¨
core/xxx.py            â†’ í”„ë¡œë•ì…˜, í´ë˜ìŠ¤ ìº¡ìŠí™”, ì¬ì‚¬ìš©
experiments/exp_XX_test.py â†’ í”„ë¡œë•ì…˜ ì½”ë“œ í…ŒìŠ¤íŠ¸
```

### 7. ì½”ë“œ ìŠ¤íƒ€ì¼
- **LangChain 0.3.x LCEL** ì‚¬ìš© (í˜„ì—… í‘œì¤€)
```python
# âœ… LCEL (Pipe ì—°ì‚°ì)
chain = prompt | llm | StrOutputParser()
result = chain.invoke({"key": "value"})

# âŒ êµ¬ë²„ì „
chain = LLMChain(llm=llm, prompt=prompt)
result = chain.run(question="...")
```

---

## ğŸ“ í˜„ì¬ íŒŒì¼ êµ¬ì¡°

```
c:\workspace\enterprise-hr-agent\
â”œâ”€ core/
â”‚  â”œâ”€ db_connection.py       âœ… DB ì—°ê²° í—¬í¼
â”‚  â””â”€ sql_agent.py            âœ… SQL Agent í´ë˜ìŠ¤
â”‚
â”œâ”€ experiments/
â”‚  â”œâ”€ exp_01_sql_generation.py      âœ… SQL ìƒì„± (í•™ìŠµ)
â”‚  â”œâ”€ exp_02_self_correction.py     âœ… Self-Correction (í•™ìŠµ)
â”‚  â”œâ”€ exp_03_langgraph_sql.py       âœ… LangGraph êµ¬í˜„ (9ì…€)
â”‚  â””â”€ exp_04_sql_agent_test.py      âœ… í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸ (7ì…€)
â”‚
â”œâ”€ data/
â”‚  â”œâ”€ db_init/init.sql        âœ… ì´ˆê¸° DB ìŠ¤í‚¤ë§ˆ
â”‚  â”œâ”€ company_docs/           â­ï¸ íšŒì‚¬ ê·œì • ë¬¸ì„œ (ë¯¸ì°©ìˆ˜)
â”‚  â””â”€ faiss_index/            â­ï¸ FAISS ì¸ë±ìŠ¤ ì €ì¥ (ë¯¸ì°©ìˆ˜)
â”‚
â”œâ”€ app/                       â­ï¸ FastAPI ì•± (ë¯¸ì°©ìˆ˜)
â”œâ”€ docs/
â”‚  â”œâ”€ PLANNING.md             âœ… ì›ë˜ ê³„íšì„œ
â”‚  â””â”€ CONTEXT.md              âœ… ì´ ë¬¸ì„œ (ì¸ìˆ˜ì¸ê³„)
â”‚
â”œâ”€ requirements.txt           âœ…
â”œâ”€ docker-compose.yml         âœ…
â””â”€ README.md                  ğŸ”„ ì—…ë°ì´íŠ¸ í•„ìš”
```

---

## â° ì‹œê°„ í˜„í™©
- **ì‚¬ìš©:** ì•½ 6-7ì‹œê°„
- **ë‚¨ìŒ:** 9-10ì‹œê°„
- **ì „ì²´ ì§„í–‰ë¥ :** ì•½ 40%

## ğŸ“Š Phaseë³„ ì§„í–‰ë¥ 
```
Phase 1: í™˜ê²½ ì„¸íŒ…        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ…
Phase 2: SQL Agent        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ…
Phase 3: RAG Agent        Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· 0%   â­ï¸
Phase 4: Router + í†µí•©    Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· 0%   â­ï¸
Phase 5: FastAPI          Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· 0%   â­ï¸
Phase 6: ë§ˆë¬´ë¦¬           Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· 0%   â­ï¸

ì „ì²´: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· 40%
```

**Phaseë³„ ê°€ì¤‘ì¹˜:**
- Phase 1: 10% (í™˜ê²½ ì„¸íŒ…)
- Phase 2: 30% (SQL Agent - í•µì‹¬)
- Phase 3: 25% (RAG Agent - í•µì‹¬)
- Phase 4: 15% (í†µí•©)
- Phase 5: 15% (API)
- Phase 6: 5% (ë§ˆë¬´ë¦¬)

---

## ğŸ¯ ë‹¤ìŒ ì„¸ì…˜ ì‹œì‘ì 

### ì¦‰ì‹œ ì‹œì‘í•  ì‘ì—…: Phase 3 (RAG Agent)

**Step 1: ìƒ˜í”Œ ë¬¸ì„œ ì‘ì„±**
```
data/company_docs/íšŒì‚¬ê·œì •.txt ìƒì„±
- íœ´ê°€ ê·œì •
- ê·¼ë¬´ ì‹œê°„
- ë³µì§€ ì œë„
- í‰ê°€ ê¸°ì¤€
```

**Step 2: exp_05 ì‘ì„±**
```python
# experiments/exp_05_document_loading.py
ì…€ 1: í™˜ê²½ ì„¤ì •
ì…€ 2: ë¬¸ì„œ ë¡œë“œ (LangChain DocumentLoader)
ì…€ 3: ì²­í‚¹ (RecursiveCharacterTextSplitter)
ì…€ 4: ì²­í¬ í™•ì¸
...
```

**ì˜ˆìƒ ì‘ì—…ëŸ‰:**
- exp_05: ë¬¸ì„œ ë¡œë“œ + ì²­í‚¹ (5-6ì…€)
- exp_06: FAISS ì¸ë±ìŠ¤ + ê²€ìƒ‰ (6-7ì…€)
- exp_07: RAG Chain (7-8ì…€)
- core/rag_agent.py ë¦¬íŒ©í† ë§
- exp_08: RAG í…ŒìŠ¤íŠ¸

---

## ğŸ’¡ ì£¼ì˜ì‚¬í•­

### ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ:
1. âŒ í•œ ë²ˆì— ì—¬ëŸ¬ ì…€ ìƒì„±
2. âŒ 30ì¤„ ë„˜ëŠ” ì…€ (í—ˆë½ ì—†ì´)
3. âŒ í…ŒìŠ¤íŠ¸ ì—†ëŠ” ì½”ë“œ
4. âŒ êµ¬ë²„ì „ LangChain ìŠ¤íƒ€ì¼

### ê¼­ í•  ê²ƒ:
1. âœ… ì…€ í•˜ë‚˜ì”©
2. âœ… ì •ì˜ + í…ŒìŠ¤íŠ¸
3. âœ… ì…€ ì„¤ëª… (ì™œ, ë­í•˜ëŠ”ì§€)
4. âœ… ì§„í–‰ë¥  í‘œì‹œ (ì…€ 5ë¶€í„°)
5. âœ… LCEL ìŠ¤íƒ€ì¼ (0.3.x)

---

## ğŸ“Š ê¸°ìˆ  ìŠ¤íƒ í™•ì¸

**ì™„ë£Œ:**
- âœ… Python 3.13
- âœ… LangChain 0.3.x (LCEL)
- âœ… LangGraph (StateGraph)
- âœ… OpenAI (gpt-4o-mini)
- âœ… MySQL + SQLAlchemy
- âœ… Docker

**ë‹¤ìŒ í•„ìš”:**
- â­ï¸ FAISS (ë²¡í„° DB)
- â­ï¸ OpenAI Embeddings
- â­ï¸ LangChain DocumentLoader
- â­ï¸ RecursiveCharacterTextSplitter
- â­ï¸ FastAPI (ë‚˜ì¤‘)

---

## ğŸ”¥ í•µì‹¬ ì„±ê³¼ë¬¼

### SQLAgent ì‚¬ìš©ë²•
```python
from core.sql_agent import SQLAgent

agent = SQLAgent(model="gpt-4o-mini", max_attempts=3)
result = agent.query("ì§ì› ìˆ˜ëŠ”?")

# result = {
#     "success": True,
#     "sql": "SELECT COUNT(*) FROM employees;",
#     "results": [{"COUNT(*)": 4}],
#     "error": None,
#     "attempts": 1
# }
```

**ê²€ì¦ ì™„ë£Œ:**
- âœ… ê°„ë‹¨í•œ ì¿¼ë¦¬ ì„±ê³µ
- âœ… ë³µì¡í•œ JOIN/GROUP BY ì„±ê³µ
- âœ… Self-Correction ì‘ë™ í™•ì¸
- âœ… ì—°ì† ì§ˆë¬¸ ì•ˆì •ì  ì²˜ë¦¬

---

## ğŸ“ ë‹¤ìŒ ì„¸ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

ìƒˆ ì„¸ì…˜ ì‹œì‘ ì‹œ í™•ì¸:
- [ ] ì´ ë¬¸ì„œ ì½ê¸°
- [ ] ê°œë°œ ë°©ë²•ë¡  ìˆ™ì§€ (ì…€ 1ê°œì”©, 30ì¤„ ì´í•˜)
- [ ] Phase 3 ì‹œì‘: RAG Agent
- [ ] íšŒì‚¬ ê·œì • ìƒ˜í”Œ ë¬¸ì„œ ì‘ì„±ë¶€í„°
- [ ] exp_05 ì…€ ë‹¨ìœ„ë¡œ ì°¨ê·¼ì°¨ê·¼

**í™”ì´íŒ…! ğŸš€**

